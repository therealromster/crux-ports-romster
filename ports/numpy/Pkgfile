# Description: Array processing for numbers, strings, records, and objects with Python.
# URL: http://numeric.scipy.org/
# Maintainer: Danny Rawlins, monster dot romster at gmail dot com
# Packager: Danny Rawlins, romster at shortcircuit dot net dot au
# Depends on: setuptools lapack gcc-fortran nose

name=numpy
version=1.8.1
release=1
source=(http://downloads.sourceforge.net/project/$name/NumPy/$version/$name-$version.tar.gz)

build() {
	export CFLAGS+=' -fno-strict-aliasing'
	export ATLAS=None
	export LDFLAGS="$LDFLAGS -shared"

	cd $name-$version

	/usr/bin/python setup.py config_fc --fcompiler=gnu95 build

	/usr/bin/python setup.py config_fc --fcompiler=gnu95 install \
		--prefix=/usr --root="$PKG" --optimize=1

	rm -r \
		$PKG/usr/lib/python2.?/site-packages/numpy/doc \
		$PKG/usr/lib/python2.?/site-packages/numpy/f2py/docs
}
