# Description: Python3 bindings for the cairo graphics library.
# URL: http://cairographics.org/pycairo
# Maintainer: Danny Rawlins, monster dot romster at gmail dot com
# Packager: Simone Rota, sip at crux dot nu
# Depends on: cairo python3

name=py3cairo
version=1.10.0
release=1
source=(http://cairographics.org/releases/pycairo-$version.tar.bz2
	pycairo-1.10.0-waf-python3.4.patch)

build() {
	cd pycairo-$version

	# https://bugs.gentoo.org/show_bug.cgi?id=504342
	patch -p1 -i $SRC/pycairo-1.10.0-waf-python3.4.patch

	sed -i 's|bin/env python|bin/env python2|' waf
	/usr/bin/python3 ./waf --version
	PYTHON=/usr/bin/python3 ./waf configure --prefix=/usr

	PYTHON=/usr/bin/python3 ./waf build
	PYTHON=/usr/bin/python3 ./waf install --destdir=$PKG
}
