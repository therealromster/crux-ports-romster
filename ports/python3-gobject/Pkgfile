# Description: Python 3 bindings for GObject.
# URL: http://www.pygtk.org/
# Maintainer: Danny Rawlins, crux at romster dot me
# Depends on: gobject-introspection python3-cairo

name=python3-gobject
version=3.26.0
release=1
source=(https://ftp.gnome.org/pub/GNOME/sources/pygobject/${version::4}/pygobject-$version.tar.xz)

build() {
	cd pygobject-$version

	./configure --prefix=/usr --with-python=/usr/bin/python3
	sed -i 's/ -shared / -Wl,-O1,--as-needed\0/g' libtool

	make
	make DESTDIR=$PKG install

	rm -rf $PKG/usr/share/gtk-doc
}
