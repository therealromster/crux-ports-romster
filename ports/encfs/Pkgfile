# Description: Encrypting filesystem for FUSE.
# URL: https://github.com/vgough/encfs
# Maintainer: Danny Rawlins, crux at romster dot me
# Packager: Jukka Heino, jukka dot heino at gmail dot com
# Depends on: cmake fuse openssl tinyxml2

name=encfs
version=1.9.1
release=1
source=(https://github.com/vgough/$name/releases/download/v$version/$name-$version.tar.gz)

build() {
	cd $name-$version
	mkdir build
	cd build
	cmake .. \
		-DINSTALL_LIBENCFS=ON \
		-DBUILD_SHARED_LIBS=ON \
		-DENABLE_NLS=OFF \
		-DCMAKE_INSTALL_PREFIX=/usr
	make
	make DESTDIR=$PKG install
	mv $PKG/usr/share/man $PKG/usr/
	rmdir $PKG/usr/share
	chmod +x $PKG/usr/bin/encfssh
}
