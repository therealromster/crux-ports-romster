# Description: A linkable library for Git
# URL: https://libgit2.github.com/
# Maintainer: Danny Rawlins, crux at romster dot me
# Depends on: libssh2 python3

name=libgit2
version=0.28.4
release=1
source=(https://github.com/$name/$name/archive/v$version.tar.gz)

build() {
	cd $name-$version

	cmake \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_BUILD_TYPE=Release \
		-DUSE_HTTP_PARSER=system \
		-DTHREADSAFE=ON \
		-B build \
		-S .

	make -C build VERBOSE=1
	make -C build DESTDIR="$PKG" install
}
