# Description: Virtual Terminal Emulator.
# URL: http://developer.gnome.org/arch/gnome/widgets/vte.html
# Maintainer: Danny Rawlins, monster dot romster at gmail dot com
# Packager: Jürgen Daubert, juergen dot daubert at t-online dot de
# Depends on: gtk intltool ncurses
# Optional: pygtk

name=vte
version=0.16.14
release=1
url="http://ftp.gnome.org/pub/GNOME/sources/$name/${version%.*}"
up2date="lynx -dump $url |grep 'LATEST-IS-' |sed -ne 's/.*LATEST-IS-\(.*\)$/\1/' -e '$ p'"
source=($url/$name-$version.tar.bz2)

build() {
	cd $name-$version
	rm po/*.po

	sed -i \
		-e 's/USE_NLS=yes/USE_NLS=no/' \
		-e 's/ENABLE_NLS 1/ENABLE_NLS 0/' configure

	sed -i -e 's/SUBDIRS = src python termcaps po doc/SUBDIRS = src python termcaps po/' Makefile.in

	./configure \
		--prefix=/usr \
		--libexecdir=/usr/lib/vte \
		--disable-dependency-tracking \
		--disable-static \
		--disable-gtk-doc \
		--with-xft2 \
		--with-pangox

	make
	make DESTDIR=$PKG install
	#rm -r $PKG/usr/share/gtk-doc
}
