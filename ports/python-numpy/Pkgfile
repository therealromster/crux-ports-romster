# Description: Array processing for numbers, strings, records, and objects with Python.
# URL: http://numpy.org/
# Maintainer: Danny Rawlins, crux at romster dot me
# Depends on: lapack setuptools

name=python-numpy
version=1.14.4
release=1
source=(https://github.com/numpy/numpy/releases/download/v$version/numpy-$version.tar.gz)

build() {
	export CFLAGS+=' -fno-strict-aliasing'
	export ATLAS=None
	export LDFLAGS="$LDFLAGS -shared"

	cd numpy-$version

	/usr/bin/python setup.py config_fc --fcompiler=gnu95 build

	/usr/bin/python setup.py config_fc --fcompiler=gnu95 install \
		--prefix=/usr --root="$PKG" --optimize=1

	rm $PKG/usr/lib/python2.7/site-packages/numpy/LICENSE.txt

	chmod -R g-w $PKG
}
