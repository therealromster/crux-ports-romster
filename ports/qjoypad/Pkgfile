# Description: Translate gamepad/joystick input into key strokes/mouse actions in X.
# URL: http://qjoypad.sourceforge.net/
# Maintainer: Danny Rawlins, monster dot romster at gmail dot com
# Packager: Danny Rawlins, monster dot romster at gmail dot com
# Depends on: qt4 xorg-libxtst

name=qjoypad
version=4.0.0
release=1
source=(http://downloads.sourceforge.net/$name/$name-$version.tar.gz
	$name.desktop)

build() {
	cd $name-$version/src
	qmake qjoypad.pro PREFIX=/usr DEVDIR=/dev/input
	make QTDIR=/usr

	install -m 0644 -D $SRC/$name.desktop \
		$PKG/usr/share/applications/$name.desktop

	install -m 0755 -D qjoypad $PKG/usr/bin/qjoypad
	install -m 0755 -d $PKG/usr/share/pixmaps/$name
	install -m 0644 -t $PKG/usr/share/pixmaps/ ../icons/*
	ln -s ../gamepad4-24x24.png $PKG/usr/share/pixmaps/$name/icon24.png
	ln -s ../gamepad4-64x64.png $PKG/usr/share/pixmaps/$name/icon64.png
}
